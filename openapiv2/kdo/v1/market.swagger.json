{
  "swagger": "2.0",
  "info": {
    "title": "kdo/v1/market.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "MarketService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/orders": {
      "get": {
        "summary": "주문 목록 조회",
        "operationId": "MarketService_ListOrders",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketListOrdersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "filter",
            "description": "필터링 조건 (선택적, AIP-160)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pageSize",
            "description": "페이징 (AIP-158)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageToken",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      },
      "delete": {
        "summary": "모든 주문 취소",
        "operationId": "MarketService_CancelAllOrders",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketCancelAllOrdersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "symbol",
            "description": "선택적: 특정 상품의 주문만 취소",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      },
      "post": {
        "summary": "주문 접수",
        "operationId": "MarketService_PlaceOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketPlaceOrderResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/marketPlaceOrderRequest"
            }
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/orders/{orderId}": {
      "delete": {
        "summary": "주문 취소",
        "operationId": "MarketService_CancelOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketCancelOrderResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orderId",
            "description": "취소할 주문 ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/orders:stream": {
      "get": {
        "summary": "주문 상태 스트리밍",
        "operationId": "MarketService_StreamOrderUpdates",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/marketOrderUpdate"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of marketOrderUpdate"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "filter",
            "description": "필터링 조건 (선택적, AIP-160)",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{etf}/lp": {
      "get": {
        "summary": "ETF LP 상태 조회",
        "operationId": "MarketService_GetEtfLPStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketGetEtfLPStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "etf",
            "description": "ETF 리소스 이름 (예: etfs/A069500)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "etfs/[^/]+"
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{etf}/lp:config": {
      "patch": {
        "summary": "ETF LP 설정 업데이트",
        "operationId": "MarketService_UpdateEtfLPConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketUpdateEtfLPConfigResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "etf",
            "description": "ETF 리소스 이름 (예: etfs/A069500)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "etfs/[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "config": {
                  "$ref": "#/definitions/marketEtfLPConfig",
                  "title": "새로운 설정"
                }
              },
              "title": "ETF LP 설정 업데이트 요청"
            }
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{etf}/lp:start": {
      "post": {
        "summary": "ETF LP 시작",
        "operationId": "MarketService_StartEtfLP",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketStartEtfLPResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "etf",
            "description": "ETF 리소스 이름 (예: etfs/A069500)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "etfs/[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "config": {
                  "$ref": "#/definitions/marketEtfLPConfig",
                  "title": "LP 설정"
                }
              },
              "title": "ETF LP 시작 요청"
            }
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{etf}/lp:stop": {
      "post": {
        "summary": "ETF LP 중지",
        "operationId": "MarketService_StopEtfLP",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/marketStopEtfLPResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "etf",
            "description": "ETF 리소스 이름 (예: etfs/A069500)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "etfs/[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "title": "ETF LP 중지 요청"
            }
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{etf}/orderbook:stream": {
      "get": {
        "summary": "ETF 주문장 데이터를 스트리밍",
        "operationId": "MarketService_StreamEtfOrderbook",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/marketEtfOrderbookData"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of marketEtfOrderbookData"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "etf",
            "description": "리소스 이름 (예: etfs/A069500)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "etfs/[^/]+"
          },
          {
            "name": "filter",
            "description": "필터링 조건 (선택적, AIP-160)",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    },
    "/v1/{future}/orderbook:stream": {
      "get": {
        "summary": "선물 주문장 데이터를 스트리밍",
        "operationId": "MarketService_StreamFuturesOrderbook",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/marketFuturesOrderbookData"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of marketFuturesOrderbookData"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "future",
            "description": "리소스 이름 (예: futures/K101W9000)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "futures/[^/]+"
          },
          {
            "name": "filter",
            "description": "필터링 조건 (선택적, AIP-160)",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MarketService"
        ]
      }
    }
  },
  "definitions": {
    "GetEtfLPStatusResponseStatistics": {
      "type": "object",
      "properties": {
        "totalFills": {
          "type": "string",
          "format": "int64",
          "title": "총 체결 수"
        },
        "totalVolume": {
          "type": "string",
          "format": "int64",
          "title": "총 체결 수량"
        },
        "avgSpread": {
          "type": "number",
          "format": "double",
          "title": "평균 스프레드"
        },
        "pnl": {
          "type": "number",
          "format": "double",
          "title": "수익률"
        }
      },
      "title": "통계 정보"
    },
    "OrderUpdateUpdateType": {
      "type": "string",
      "enum": [
        "UPDATE_TYPE_UNSPECIFIED",
        "CREATED",
        "UPDATED",
        "FILLED",
        "CANCELLED"
      ],
      "default": "UPDATE_TYPE_UNSPECIFIED",
      "description": "- UPDATE_TYPE_UNSPECIFIED: 기본값\n - CREATED: 주문 생성\n - UPDATED: 주문 업데이트\n - FILLED: 주문 체결\n - CANCELLED: 주문 취소",
      "title": "업데이트 타입"
    },
    "marketCancelAllOrdersResponse": {
      "type": "object",
      "properties": {
        "cancelledCount": {
          "type": "integer",
          "format": "int32",
          "title": "취소된 주문 수"
        },
        "cancelledOrders": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/marketOrder"
          },
          "title": "취소된 주문 목록"
        }
      },
      "title": "모든 주문 취소 응답"
    },
    "marketCancelOrderResponse": {
      "type": "object",
      "properties": {
        "order": {
          "$ref": "#/definitions/marketOrder",
          "title": "취소된 주문 정보"
        }
      },
      "title": "주문 취소 응답"
    },
    "marketEtfLPConfig": {
      "type": "object",
      "properties": {
        "basis": {
          "type": "number",
          "format": "double",
          "title": "Basis 값"
        },
        "offset": {
          "type": "number",
          "format": "double",
          "title": "Offset 값"
        },
        "maxQuantity": {
          "type": "string",
          "format": "int64",
          "title": "최대 주문 수량"
        },
        "minSpread": {
          "type": "number",
          "format": "double",
          "title": "최소 스프레드"
        }
      },
      "title": "ETF LP 설정"
    },
    "marketEtfLPStatus": {
      "type": "string",
      "enum": [
        "ETF_LP_STATUS_UNSPECIFIED",
        "STOPPED",
        "STARTING",
        "RUNNING",
        "STOPPING",
        "ERROR"
      ],
      "default": "ETF_LP_STATUS_UNSPECIFIED",
      "description": "- ETF_LP_STATUS_UNSPECIFIED: 기본값\n - STOPPED: 중지됨\n - STARTING: 시작중\n - RUNNING: 실행중\n - STOPPING: 중지중\n - ERROR: 오류",
      "title": "ETF LP 상태"
    },
    "marketEtfOrderbookData": {
      "type": "object",
      "properties": {
        "bidPrices": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매수 호가 (10단계, AIP-144)"
        },
        "askPrices": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매도 호가 (10단계)"
        },
        "bidQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매수 수량 (10단계)"
        },
        "askQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매도 수량 (10단계)"
        },
        "lpBidQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "LP 매수 수량 (10단계)"
        },
        "lpAskQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "LP 매도 수량 (10단계)"
        },
        "midPrice": {
          "type": "string",
          "format": "int64",
          "title": "중간 호가"
        },
        "midAskQuantity": {
          "type": "string",
          "format": "int64",
          "title": "중간 매도 수량"
        },
        "midBidQuantity": {
          "type": "string",
          "format": "int64",
          "title": "중간 매수 수량"
        },
        "askQuoteTotalQuantity": {
          "type": "string",
          "format": "int64",
          "title": "총 매도 호가 수량"
        },
        "bidQuoteTotalQuantity": {
          "type": "string",
          "format": "int64",
          "title": "총 매수 호가 수량"
        },
        "estPrice": {
          "type": "string",
          "format": "int64",
          "title": "예상 가격"
        },
        "estVolume": {
          "type": "string",
          "format": "int64",
          "title": "예상 거래량"
        },
        "sessionId": {
          "$ref": "#/definitions/marketSessionId",
          "title": "세션 ID"
        }
      },
      "title": "ETF 주문장 데이터"
    },
    "marketFuturesOrderbookData": {
      "type": "object",
      "properties": {
        "bidPrices": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매수 호가 (5단계, AIP-144)"
        },
        "askPrices": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매도 호가 (5단계)"
        },
        "bidQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매수 수량 (5단계)"
        },
        "askQuantities": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매도 수량 (5단계)"
        },
        "bidCounts": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매수 주문 수 (5단계)"
        },
        "askCounts": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "int64"
          },
          "title": "매도 주문 수 (5단계)"
        },
        "askQuoteTotalQuantity": {
          "type": "string",
          "format": "int64",
          "title": "총 매도 호가 수량"
        },
        "bidQuoteTotalQuantity": {
          "type": "string",
          "format": "int64",
          "title": "총 매수 호가 수량"
        },
        "estPrice": {
          "type": "string",
          "format": "int64",
          "title": "예상 가격"
        },
        "estVolume": {
          "type": "string",
          "format": "int64",
          "title": "예상 거래량"
        },
        "sessionId": {
          "$ref": "#/definitions/marketSessionId",
          "title": "세션 ID"
        }
      },
      "title": "선물 주문장 데이터"
    },
    "marketGetEtfLPStatusResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/marketEtfLPStatus",
          "title": "LP 상태"
        },
        "config": {
          "$ref": "#/definitions/marketEtfLPConfig",
          "title": "현재 설정"
        },
        "startedAt": {
          "type": "string",
          "format": "int64",
          "title": "시작 시간 (Unix timestamp)"
        },
        "stats": {
          "$ref": "#/definitions/GetEtfLPStatusResponseStatistics"
        }
      },
      "title": "ETF LP 상태 조회 응답"
    },
    "marketListOrdersResponse": {
      "type": "object",
      "properties": {
        "orders": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/marketOrder"
          },
          "title": "주문 목록"
        },
        "nextPageToken": {
          "type": "string",
          "title": "다음 페이지 토큰 (AIP-158)"
        }
      },
      "title": "주문 목록 조회 응답"
    },
    "marketOrder": {
      "type": "object",
      "properties": {
        "orderId": {
          "type": "string",
          "title": "주문 ID"
        },
        "orderType": {
          "$ref": "#/definitions/marketOrderType",
          "title": "주문 타입"
        },
        "symbol": {
          "type": "string",
          "title": "상품 (예: etfs/A069500)"
        },
        "price": {
          "type": "string",
          "format": "int64",
          "title": "주문 가격"
        },
        "quantity": {
          "type": "string",
          "format": "int64",
          "title": "주문 수량"
        },
        "filledQuantity": {
          "type": "string",
          "format": "int64",
          "title": "체결 수량"
        },
        "status": {
          "$ref": "#/definitions/marketOrderStatus",
          "title": "주문 상태"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "주문 시간 (Unix timestamp)"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "업데이트 시간 (Unix timestamp)"
        }
      },
      "title": "주문 정보"
    },
    "marketOrderStatus": {
      "type": "string",
      "enum": [
        "ORDER_STATUS_UNSPECIFIED",
        "PENDING",
        "PARTIAL_FILLED",
        "FILLED",
        "CANCELLED",
        "REJECTED"
      ],
      "default": "ORDER_STATUS_UNSPECIFIED",
      "description": "- ORDER_STATUS_UNSPECIFIED: 기본값\n - PENDING: 대기중\n - PARTIAL_FILLED: 부분체결\n - FILLED: 체결완료\n - CANCELLED: 취소됨\n - REJECTED: 거부됨",
      "title": "주문 상태 열거형"
    },
    "marketOrderType": {
      "type": "string",
      "enum": [
        "ORDER_TYPE_UNSPECIFIED",
        "BUY",
        "SELL"
      ],
      "default": "ORDER_TYPE_UNSPECIFIED",
      "description": "- ORDER_TYPE_UNSPECIFIED: 기본값\n - BUY: 매수\n - SELL: 매도",
      "title": "주문 타입 열거형"
    },
    "marketOrderUpdate": {
      "type": "object",
      "properties": {
        "order": {
          "$ref": "#/definitions/marketOrder",
          "title": "업데이트된 주문"
        },
        "updateType": {
          "$ref": "#/definitions/OrderUpdateUpdateType"
        }
      },
      "title": "주문 업데이트"
    },
    "marketPlaceOrderRequest": {
      "type": "object",
      "properties": {
        "orderType": {
          "$ref": "#/definitions/marketOrderType",
          "title": "주문 타입"
        },
        "symbol": {
          "type": "string",
          "title": "상품 (예: etfs/A069500)"
        },
        "price": {
          "type": "string",
          "format": "int64",
          "title": "주문 가격"
        },
        "quantity": {
          "type": "string",
          "format": "int64",
          "title": "주문 수량"
        }
      },
      "title": "주문 접수 요청"
    },
    "marketPlaceOrderResponse": {
      "type": "object",
      "properties": {
        "order": {
          "$ref": "#/definitions/marketOrder",
          "title": "생성된 주문 정보"
        }
      },
      "title": "주문 접수 응답"
    },
    "marketSessionId": {
      "type": "string",
      "enum": [
        "SESSION_ID_UNSPECIFIED",
        "PREVIOUS",
        "CONNECTED",
        "OPENING_ONE_PRICE",
        "ONE_PRICE",
        "CLOSING_ONE_PRICE",
        "VI_ONE_PRICE",
        "VI_OPENING_ONE_PRICE",
        "VI_CLOSING_ONE_PRICE",
        "UNIT_TRADE",
        "POST_MARKET",
        "AUCTION_BID",
        "AUCTION_ASK",
        "SUSPENDED",
        "SHUTDOWN",
        "CLOSED",
        "ETC"
      ],
      "default": "SESSION_ID_UNSPECIFIED",
      "description": "- SESSION_ID_UNSPECIFIED: 기본값\n - PREVIOUS: 장개시전\n - CONNECTED: 이상무\n - OPENING_ONE_PRICE: 시가단일가\n - ONE_PRICE: 단일가\n - CLOSING_ONE_PRICE: 종가단일가\n - VI_ONE_PRICE: VI장중단일가\n - VI_OPENING_ONE_PRICE: VI시가단일가\n - VI_CLOSING_ONE_PRICE: VI종가단일가\n - UNIT_TRADE: 단위매매\n - POST_MARKET: 장종료후호가접수\n - AUCTION_BID: 경매매수호가 접수 세션\n - AUCTION_ASK: 경매매도호가 접수 세션\n - SUSPENDED: 거래정지\n - SHUTDOWN: SHUTDOWN\n - CLOSED: 장마감\n - ETC: 기타",
      "title": "세션 ID 열거형 (AIP-126)"
    },
    "marketStartEtfLPResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/marketEtfLPStatus",
          "title": "LP 상태"
        },
        "message": {
          "type": "string",
          "title": "메시지"
        }
      },
      "title": "ETF LP 시작 응답"
    },
    "marketStopEtfLPResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/marketEtfLPStatus",
          "title": "LP 상태"
        },
        "message": {
          "type": "string",
          "title": "메시지"
        }
      },
      "title": "ETF LP 중지 응답"
    },
    "marketUpdateEtfLPConfigResponse": {
      "type": "object",
      "properties": {
        "config": {
          "$ref": "#/definitions/marketEtfLPConfig",
          "title": "업데이트된 설정"
        },
        "message": {
          "type": "string",
          "title": "메시지"
        }
      },
      "title": "ETF LP 설정 업데이트 응답"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
