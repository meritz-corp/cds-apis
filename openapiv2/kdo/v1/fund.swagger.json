{
  "swagger": "2.0",
  "info": {
    "title": "kdo/v1/fund.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "FundService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/funds": {
      "get": {
        "summary": "펀드 목록 조회",
        "operationId": "FundService_ListFunds",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/fundListFundsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "pageSize",
            "description": "페이지 크기 (optional)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "pageToken",
            "description": "페이지 토큰 (optional, for pagination)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "filter",
            "description": "Available Sequence and Operator\n* fund_code\n  * `equal`, `contains`\n* employee_name\n  * `equal`, `contains`\n\nExamples\n* filter=fund_code=\"0159\"\n* filter=employee_name:\"홍길동\"",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    },
    "/v1/{fund}": {
      "get": {
        "summary": "단일 펀드 조회",
        "operationId": "FundService_GetFund",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/fundFund"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "fund",
            "description": "펀드 리소스 이름 (예: funds/KR1234567890)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "funds/[^/]+"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    },
    "/v1/{fund}/trading_snapshot": {
      "get": {
        "operationId": "FundService_ListFundTradingSnapshots",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/fundListFundTradingSnapshotsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "fund",
            "description": "펀드 리소스 이름 (예: funds/KR1234567890)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "funds/[^/]+"
          },
          {
            "name": "filter",
            "description": "Available Sequence and Operator\n* limit_type\n  * `equal`\n\nExamples\n* filter=limit_type=Stock",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    },
    "/v1/{fund}/trading_snapshot:stream": {
      "get": {
        "operationId": "FundService_StreamFundTradingSnapshots",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/fundListFundTradingSnapshotsResponse"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of fundListFundTradingSnapshotsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "fund",
            "description": "펀드 리소스 이름 (예: funds/KR1234567890)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "funds/[^/]+"
          },
          {
            "name": "filter",
            "description": "Available Sequence and Operator\n* limit_type\n  * `equal`\n\nExamples\n* filter=limit_type=Stock",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    },
    "/v1/{fund}:stream": {
      "get": {
        "summary": "단일 펀드 스트림",
        "operationId": "FundService_StreamFund",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/fundFund"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of fundFund"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "fund",
            "description": "펀드 리소스 이름 (예: funds/KR1234567890)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "funds/[^/]+"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    },
    "/v1/{fund}:watch-loss-limit-alerts": {
      "get": {
        "operationId": "FundService_WatchLossLimitAlerts",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/fundLossLimitAlert"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of fundLossLimitAlert"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "fund",
            "description": "펀드 리소스 이름 (예: funds/KR1234567890)",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "funds/[^/]+"
          }
        ],
        "tags": [
          "FundService"
        ]
      }
    }
  },
  "definitions": {
    "fundFund": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "title": "펀드 코드 (표준 코드)"
        },
        "name": {
          "type": "string",
          "title": "펀드 이름"
        },
        "categoryCode": {
          "type": "string",
          "title": "펀드분류코드"
        },
        "employeeNumber": {
          "type": "string",
          "title": "펀드관리직원번호"
        },
        "employeeName": {
          "type": "string",
          "title": "펀드관리직원성명"
        },
        "limitAmount": {
          "type": "string",
          "title": "펀드 한도"
        },
        "departmentCode": {
          "type": "string",
          "title": "관리부서코드"
        },
        "tradeCode": {
          "type": "string",
          "title": "펀드거래구분코드"
        },
        "partCode": {
          "type": "string",
          "title": "파트구분코드"
        },
        "partName": {
          "type": "string",
          "title": "상품매매구분코드"
        },
        "productDealCode": {
          "type": "string",
          "title": "포지션합산여부"
        },
        "addUpPosition": {
          "type": "string",
          "title": "파트구분명"
        },
        "tradingSystemCode": {
          "type": "string",
          "title": "트레이딩시스템종류코드"
        },
        "uniqueTradingUnitCode": {
          "type": "string",
          "title": "독립거래단위구분코드"
        },
        "uniqueTradingUnitPartCode": {
          "type": "string",
          "title": "독립거래단위파트구분코드"
        },
        "uniqueTradingUnitSerialNumber": {
          "type": "string",
          "format": "int64",
          "title": "독립거래단위일련번호"
        },
        "addUpUniqueTradingUnit": {
          "type": "boolean",
          "title": "독립거래단위합산여부"
        },
        "shortSellingId": {
          "type": "string",
          "title": "공매도ID"
        }
      },
      "title": "펀드 정보"
    },
    "fundFundExposure": {
      "type": "object",
      "properties": {
        "totalExposure": {
          "type": "string",
          "format": "int64",
          "title": "전체 익스포저"
        },
        "symbols": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/fundSymbolExposure"
          },
          "title": "종목별 포지션 수량 목록"
        }
      },
      "title": "펀드 익스포저(Exposure) 관리"
    },
    "fundFundLimit": {
      "type": "object",
      "properties": {
        "fund": {
          "type": "string"
        },
        "limitType": {
          "$ref": "#/definitions/fundFundLimitType"
        },
        "longLimitQuantity": {
          "type": "string",
          "format": "int64",
          "title": "매수한도수량"
        },
        "longLimitAmount": {
          "type": "string",
          "format": "int64",
          "title": "매수한도금액"
        },
        "shortLimitQuantity": {
          "type": "string",
          "format": "int64",
          "title": "매도한도수량"
        },
        "shortLimitAmount": {
          "type": "string",
          "format": "int64",
          "title": "매도한도금액"
        },
        "limitQuantityPerOrder": {
          "type": "string",
          "format": "int64",
          "title": "1회 주문 한도계약수"
        },
        "limitAmountPerOrder": {
          "type": "string",
          "format": "int64",
          "title": "1회 주문 한도금액"
        },
        "tickLimit": {
          "type": "string",
          "format": "int64",
          "title": "1회 주문 한도틱"
        },
        "unfilledLimit": {
          "type": "string",
          "format": "int64",
          "title": "미체결한도수량"
        },
        "spreadLimitQuantityPerOrder": {
          "type": "string",
          "format": "int64",
          "title": "스프레드 1회 주문 한도계약수"
        },
        "currentLongQuantity": {
          "type": "string",
          "format": "int64",
          "title": "현재 누적 매수 수량"
        },
        "currentLongAmount": {
          "type": "string",
          "format": "int64",
          "title": "현재 누적 매수 금액"
        },
        "currentShortQuantity": {
          "type": "string",
          "format": "int64",
          "title": "현재 누적 매도 수량 (음수로 저장)"
        },
        "currentShortAmount": {
          "type": "string",
          "format": "int64",
          "title": "현재 누적 매도 금액 (음수로 저장)"
        },
        "currentUnfilled": {
          "type": "string",
          "format": "int64",
          "title": "현재 미체결 수량"
        }
      },
      "required": [
        "fund"
      ]
    },
    "fundFundLimitType": {
      "type": "string",
      "enum": [
        "FUND_LIMIT_UNSPECIFIED",
        "KOSPI_200_Future",
        "STOCK"
      ],
      "default": "FUND_LIMIT_UNSPECIFIED"
    },
    "fundFundPnL": {
      "type": "object",
      "properties": {
        "dailyRealizedPnl": {
          "type": "string",
          "format": "int64",
          "title": "일일 손익"
        },
        "dailyUnrealizedPnl": {
          "type": "string",
          "format": "int64",
          "title": "일일 손익"
        },
        "symbols": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/fundSymbolPnL"
          },
          "title": "종목별 포지션 PnL 목록"
        }
      },
      "title": "펀드 손익(PnL) 관리"
    },
    "fundFundTrading": {
      "type": "object",
      "properties": {
        "fundLimits": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/fundFundLimit"
          },
          "title": "펀드 한도 목록"
        },
        "pnls": {
          "$ref": "#/definitions/fundFundPnL",
          "title": "펀드 손익 목록"
        },
        "exposures": {
          "$ref": "#/definitions/fundFundExposure",
          "title": "펀드 익스포저 목록"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "fundListFundTradingSnapshotsResponse": {
      "type": "object",
      "properties": {
        "snapshots": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/fundFundTrading"
          },
          "title": "펀드 한도 목록"
        },
        "nextPageToken": {
          "type": "string",
          "title": "다음 페이지 토큰"
        }
      }
    },
    "fundListFundsResponse": {
      "type": "object",
      "properties": {
        "funds": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/fundFund"
          },
          "title": "펀드 목록"
        },
        "nextPageToken": {
          "type": "string",
          "title": "다음 페이지 토큰"
        }
      },
      "title": "ListFunds 응답"
    },
    "fundLossLimitAlert": {
      "type": "object",
      "properties": {
        "fundCode": {
          "type": "string"
        },
        "currentLoss": {
          "type": "string",
          "format": "int64"
        },
        "lossLimit": {
          "type": "string",
          "format": "int64"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "snapshots": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/fundLossLimitSnapshot"
          }
        }
      }
    },
    "fundLossLimitSnapshot": {
      "type": "object",
      "properties": {
        "symbol": {
          "type": "string"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        },
        "averagePrice": {
          "type": "number",
          "format": "double"
        },
        "currentPrice": {
          "type": "number",
          "format": "double"
        },
        "unrealizedPnl": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "fundSymbolExposure": {
      "type": "object",
      "properties": {
        "symbol": {
          "type": "string",
          "title": "종목 코드"
        },
        "quantity": {
          "type": "number",
          "format": "double",
          "title": "보유 수량"
        },
        "currentPrice": {
          "type": "number",
          "format": "double",
          "title": "현재가"
        },
        "exposure": {
          "type": "string",
          "format": "int64",
          "title": "익스포저"
        }
      }
    },
    "fundSymbolPnL": {
      "type": "object",
      "properties": {
        "symbol": {
          "type": "string",
          "title": "종목 코드"
        },
        "quantity": {
          "type": "number",
          "format": "double",
          "title": "보유 수량"
        },
        "averageEntryPrice": {
          "type": "number",
          "format": "double",
          "title": "평균 진입가"
        },
        "currentPrice": {
          "type": "number",
          "format": "double",
          "title": "현재가"
        },
        "unrealizedPnl": {
          "type": "string",
          "format": "int64",
          "title": "미실현 손익"
        },
        "realizedPnl": {
          "type": "string",
          "format": "int64",
          "title": "실현 손익"
        },
        "tradingCost": {
          "type": "number",
          "format": "double",
          "title": "거래 비용"
        }
      },
      "title": "종목별 포지션 PnL"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
